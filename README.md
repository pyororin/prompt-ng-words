# プロンプトインジェクション検出API (prompt-ng-api)

## 概要

このプロジェクトは、ユーザー入力におけるプロンプトインジェクションの試みを検出するために設計されたSpring Boot製APIです。
LLM（大規模言語モデル）などへの入力テキストを検査し、悪意のある指示や機密情報の漏洩につながる可能性のあるパターンを特定します。

## 主な機能

*   **ルールベースの検出**: `src/main/resources/prompt_injection_rules.yaml` ファイルに定義されたルールセットに基づいてインジェクションの試みを検出します。
    *   **禁止単語リスト**: 特定の危険な単語（例：「パスワード」、「機密」、「実行」）が含まれているかをチェックします。
    *   **インジェクションパターン**: 指示の上書き、役割の変更、機密情報の開示要求など、典型的なインジェクション手法に合致するフレーズや正規表現パターンを検出します。
*   **多言語対応**: 現在、日本語および英語のプロンプトインジェクションパターンに対応しています。
*   **Spring Bootベース**: Java 17 と Spring Boot 3.3.0 を使用して構築されており、既存のSpring Bootアプリケーションへの統合が容易です。

## 仕組み

APIは、受け取った入力テキストを `prompt_injection_rules.yaml` に記述されたルールと照合します。
このファイルには、以下の2つの主要なセクションがあります。

1.  `forbidden_words_jp`: 日本語の禁止単語のリスト。これらの単語が入力に含まれている場合、警告の対象となります。
2.  `injection_patterns`: プロンプトインジェクションとして識別されるフレーズや正規表現パターンのリスト。各パターンには、それが英語のフレーズ (`english_phrase`)、日本語のフレーズ (`japanese_phrase`)、英語の正規表現 (`english_regex`)、または日本語の正規表現 (`japanese_regex`) であるかを示す `type` が関連付けられています。

一致するルールが見つかった場合、APIはそれが潜在的なプロンプトインジェクションであると判断できます。

## 今後の展望 (例)

*   より高度な検出ロジックの追加（例：機械学習モデルの利用）
*   対応言語の拡充
*   詳細な設定オプションの提供

---

*このAPIはプロンプトの検査を支援することを目的としています。*